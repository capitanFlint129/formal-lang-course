# Интерпретатор запросов

## Типы в языке запросов

Типизация в языке строгая, то есть никакое значение не может быть неявно
проинтерпретировано как какое-либо другое. В языке запросов есть следующие типы:

- Int - целое число
- String - строка
- Bool - булев тип
- List - список
- Set - множество
- FA - конечный автомат
- RSM - рекурсивный автомат

### Проверка типов

- Константы типов Int, Bool, String типизируются "в лоб".
- Типы контейнеров не параметризуются и могут содержать любые объекты
- Типы автоматов не параметризуются и могут содержать любые объекты в вершинах
- Два множества можно пересекать и объединять
- Два списка можно конкатенировать
- Создать автомат из строки можно только оператором `smb`
- Получить элемент по индексу можно только у списка, индекс может быть только целым числом
- Операторы map и filter возвращают список, применять их можно к множествам и спискам

## Переменные

- Нельзя переопределять переменные
- Рекурсия при определении переменных возможна, только для рекурсивных автоматов
- При операциях над переменными никакие значения не модифицируются, результат каждой операции - новое значение

## Используемые алгоритмы

- Для пересечения конечных автоматов используется алгоритм тензорного
  произведения. Он выбран поскольку является единственным реализованным
  алгоритмом для пересечения автоматов реализованным в рамках курса.

- Пересечение рекурсивного автомата и конечного автомата не было реализовано,
  поэтому на данный момент не поддерживается.
